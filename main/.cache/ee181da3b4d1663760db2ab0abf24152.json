{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","loc":{"line":3,"column":37}},{"name":"lodash/isFunction","loc":{"line":15,"column":50}},{"name":"lodash/snakeCase","loc":{"line":17,"column":49}}],"generated":{"js":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sleep = sleep;\nexports.isConstructable = isConstructable;\nexports.getDefaultTplWrapper = getDefaultTplWrapper;\nexports.getWrapperId = getWrapperId;\nexports.validateExportLifecycle = validateExportLifecycle;\nexports.Deferred = void 0;\n\nvar _isFunction2 = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _snakeCase2 = _interopRequireDefault(require(\"lodash/snakeCase\"));\n\nfunction sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}\n\nfunction isConstructable(fn) {\n  var constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\n  var classRegex = /^class\\b/; // 有 prototype 并且 prototype 上有定义一系列非 constructor 属性，则可以认为是一个构造函数\n\n  return fn.prototype && Object.getOwnPropertyNames(fn.prototype).filter(function (k) {\n    return k !== 'constructor';\n  }).length || constructableFunctionRegex.test(fn.toString()) || classRegex.test(fn.toString());\n}\n\nfunction getDefaultTplWrapper(id) {\n  return function (tpl) {\n    return \"<div id=\\\"\" + getWrapperId(id) + \"\\\">\" + tpl + \"</div>\";\n  };\n}\n\nfunction getWrapperId(id) {\n  return \"__qiankun_microapp_wrapper_for_\" + (0, _snakeCase2.default)(id) + \"__\";\n}\n/** 校验子应用导出的 生命周期 对象是否正确 */\n\n\nfunction validateExportLifecycle(exports) {\n  var _a = exports !== null && exports !== void 0 ? exports : {},\n      bootstrap = _a.bootstrap,\n      mount = _a.mount,\n      unmount = _a.unmount;\n\n  return (0, _isFunction2.default)(bootstrap) && (0, _isFunction2.default)(mount) && (0, _isFunction2.default)(unmount);\n}\n\nvar Deferred =\n/** @class */\nfunction () {\n  function Deferred() {\n    var _this = this;\n\n    this.promise = new Promise(function (resolve, reject) {\n      _this.resolve = resolve;\n      _this.reject = reject;\n    });\n  }\n\n  return Deferred;\n}();\n\nexports.Deferred = Deferred;"},"hash":"1979b901ecfc363e41959078bac09d65"}